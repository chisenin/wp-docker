## 第九部分：步骤七：部署与验证

完成上述配置后，您可以使用以下步骤在目标服务器上部署 WordPress：

1.  **准备环境**：确保目标服务器已安装 Docker 和 Docker Compose。

2.  **获取镜像版本**：从 GitHub Actions 的 "Pull amd64 variant and extract PHP/Nginx version" 步骤日志中获取构建的精确版本标签（如 `8.3.26`、`1.27.2`）。

3.  **使用部署脚本自动创建 `.env` 文件**：
    ```bash:disable-run
    # 确保脚本可执行
    chmod +x scripts/deploy.sh
    # 运行部署脚本（将自动生成安全的 .env 文件）
    ./scripts/deploy.sh
    ```
    部署脚本将自动：
    - 检查 `.env.example` 文件是否存在
    - 生成随机的 MySQL 密码和用户名
    - 从 WordPress API 获取最新的安全密钥
    - 创建包含所有必要环境变量的 `.env` 文件

4.  **手动创建 `.env` 文件（可选）**：如果您希望手动配置，可以根据 `.env.example` 创建 `.env` 文件，并填入必要的环境变量：
    ```bash
    # .env 文件示例
    DOCKERHUB_USERNAME=your_dockerhub_username
    PHP_VERSION=8.3.26
    NGINX_VERSION=1.27.2
    MYSQL_ROOT_PASSWORD=your_strong_root_password
    MYSQL_PASSWORD=your_strong_user_password
    ```
    **注意**：密码应使用强密码生成器创建，并妥善保管。

5.  **下载 WordPress**:
    ```bash
    # 在 wordpress-project/ 目录下执行
    wget https://wordpress.org/latest.tar.gz
    tar -xvzf latest.tar.gz
    mv wordpress/* html/
    rm -rf wordpress latest.tar.gz
    ```

6.  **生产部署**:
    ```bash
    docker-compose pull  # 拉取精确版本镜像
    docker-compose up -d  # 启动服务
    ```

7.  **完成安装**:
    浏览器访问 `http://你的服务器IP`，按向导完成数据库配置。

8.  **配置 Redis 缓存**:
    安装并启用 "Redis Object Cache" 插件，自动连接容器。

---

**本部分结束**。这是指南的第九部分（步骤七：部署与验证）。